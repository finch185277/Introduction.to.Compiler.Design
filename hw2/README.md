# hw2

## Environment
- Linux Mint 19.1 (Ubuntu 18.04)
- `apt install flex bison libfl-dev gcc`
  - bison version: `3.0.4`
  - flex version: `2.6.4`
  - cc version: `7.4.0`

## Test
- Manual
  - `flex scanner.l`
  - `yacc -d parser.y`
  - `cc -g -o parser lex.yy.c y.tab.c y.tab.h`
  - `./parser inut/{?}.p`

- Use script
  - `make test`
  - check files in `output` folder

# Introduction
Combining the scanner(hw1), we build the parser of mini-pascal.
We assume scanner would not return error while scanning input.
And the parser result depend on input:
- parse successfully:
  - standard output
  ```
  OK
  ```

- parse interrupt:
  - standard error
  ```
  line <no.>: error token <token content>
  <error message>
  ```
  - standard output
  ```
  ERROR
  ```

## Code

## Grammar bug
`optional_statements` and `statement` both reduce to `lambda`,
so `lambda` could be reduced by two way:
- `statement` -> `lambda`
- `statement` -> `statement_list` -> `optional_statements` -> `lambda`

And this would cause yacc error
```
parser.y: warning: 1 reduce/reduce conflict [-Wconflicts-rr]
```
Solution: remove `lambda` from `optional_statements` section.

## Extra files
- `test.sh`:
generate output of parser

- `output` folder:
content generated by `test.sh`

- `terminal-output.txt`:
content generated by command `make test > terminal-output.txt 2>&1`
