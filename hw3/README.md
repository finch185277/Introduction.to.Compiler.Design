# hw3
# Introduction
Combining the scanner(hw1), we build the parser of mini-pascal.
We assume scanner would not return error while scanning input. During parsing procedure, we build AST(Abstract Syntax Tree), and use that do semantic check.

## Environment
- Linux Mint 19.2 (Ubuntu 18.04)
- `apt install flex bison libfl-dev gcc`
  - bison version: `3.0.4`
  - flex version: `2.6.4`
  - cc version: `7.4.0`

## Test
- Manual:
  - `cc -c -o node.o node.c`
  - `cc -c -o symtab.o symtab.c`
  - `flex scanner.l`
  - `yacc -d parser.y`
  - `cc -o parser lex.yy.c y.tab.c y.tab.h node.o symtab.o`
  - `./parser < inut/{?}.p`

- Use script (recommended):
  - `make test`
  - check files in `output` folder

Result depend on input:
- parse interrupt:
  - standard error
```
line <no.>: error token <token content>
<error message>
```

  - standard output
```
PARSE ERROR
```

- parse successfully:
  - standard output: Abstract syntax tree

- semantic check successfully:
```
...
  lines of success message
...
        No semantic error!       
```

- semantic check error:
```
...
  lines of error message
...
SEMANTIC ERROR
```

## Code
- `node.h` & `node.c`:
define AST nodes

- `symtab.h` & `symtab.c`:
define symtab detail

## Remind
### Type check
Because
- integer number: `[0-9]+`
- real number: `[0-9]+\.[0-9]+` or `[0-9]+(\.[0-9]+)?E[+-]?[0-9]+`

We consider `real number` `+-*/` `int number` is not allow
```
ex. k[25][26] := k[25][26] + 3; // k is array of real number
```

### Number detail
We don't check number divide by zero.


## Extra files
- Makefile:
`make` `make test` `make clean`

- `test.sh`:
generate output of parser

- `output` folder:
content generated by `test.sh`
